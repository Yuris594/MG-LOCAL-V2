(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3274],{81502:(e,t,l)=>{Promise.resolve().then(l.bind(l,82925))},82925:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>w});var a=l(95155),o=l(75436),i=l(78562),n=l(9561),s=l(2241),r=l(2295),_=l(894),c=l(6403),d=l(64665),x=l(42479),u=l(72251);l(92340);var m=l(10142),p=l(12115),f=l(89100);let h=function(e,t,l){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},[o,i]=(0,p.useState)(null),n=(0,f.GP)(new Date,"dd/MM/yyyy HH:mm:ss");return{generarPDF:()=>{let o=new m.default,i=[{field:"DESCRIPCION",headerName:"DESCRIPCI\xd3N",width:500},{field:"PRECIO",headerName:"PRECIO",width:200}],s=e.filter(e=>e.DESCRIPCION&&e.PRECIO).map(e=>i.map(t=>{let l=e[t.field];return"PRECIO"===t.field&&(l=parseFloat(Number(l).toFixed(0)).toLocaleString()),l}));o.setFontSize(10),o.setFont("times","italic"),o.text("Miguel Gomez & Cia",10,10),o.text("Tel: 777777",10,15),o.text("Email: miguelgomez&cia@hotmail.com",10,20),o.text("Website: https://www.miguelgomez.com.co",10,25),o.text("-----------------------------------------------------------------------------------------------------------------------------------------------------------------",10,30),o.setFontSize(8),o.setFont("times","italic"),o.text("Servicio: ".concat(l.PER_Nom||"Desconocido"),160,20),o.autoTable({head:[i.map(e=>e.headerName)],body:s,styles:{theme:"plain",tableWidth:"auto",lineColor:[200,200,200],lineWight:.1,font:"times",fontStyle:"normal",textColor:[0,0,0],display:"flex",cellWidth:"auto",fontSize:8},startY:40,theme:"plain",columnStyles:{cellWidth:"auto"}}),function(){if(o.setFontSize(10),o.text("TOTAL: $".concat(a.total),12,o.autoTable.previous.finalY+20),t.length>0){let e=Object.entries(t[0]).map(e=>{let[t,l]=e;return"".concat(t,": ").concat(l)}).join(", ");o.text("M\xc9TODO DE PAGO: ".concat(e),12,o.autoTable.previous.finalY+30)}else o.text("M\xc9TODO DE PAGO: No especificado",12,o.autoTable.previous.finalY+45);o.text("CAMBIO: $".concat(a.cambio),12,o.autoTable.previous.finalY+40),o.setFontSize(8),o.text("_________________________________________________________________________________________________________________________________________________________________",12,o.autoTable.previous.finalY+55),o.text("".concat(n),12,o.autoTable.previous.finalY+65)}(),o.output("dataurlnewwindow")},pdfDataUrl:o}};var g=l(78205),j=l(71118),b=l(70689),S=l(41517),C=l.n(S),y=l(48173),v=l.n(y);let I=(0,a.jsx)(o.default,{component:"span",sx:{display:"inline-block",mx:"2px",transform:"scale(0.8)"},children:"â€¢"}),w=()=>{let{caja:e,auth:t}=(0,b.A)(),l=e?Object.values(e):[],m=e&&e.tipoPago?Object.values(e.tipoPago):[],{generarPDF:p}=h(l,m,t,e);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(o.default,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",backgroundColor:"#f5f5f5",borderRadius:"10px",boxShadow:"0px 4px 12px rgba(0,0,0,0.1)"},children:(0,a.jsxs)(i.A,{className:"container",sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",overflow:"auto"},children:[(0,a.jsxs)(n.default,{variant:"body1",textAlign:"center",margin:"20px 0",sx:{fontSize:50,marginBottom:"15px"},color:"#00796b",gutterBottom:!0,children:["Valor a Cancelar: $ ",e.total]}),(0,a.jsx)(s.A,{sx:{fonSize:30},orientation:"horizontal"}),(0,a.jsxs)(o.default,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,a.jsxs)(o.default,{sx:{with:"50%",margin:5},children:[(0,a.jsx)("h3",{style:{fontSize:40,margin:0,marginBottom:6,padding:0},children:"\xbfComo le gustaria recibir su recibo?"}),(0,a.jsx)(r.default,{variant:"outlined",color:"primary",sx:{width:550,marginBottom:5,backgroundColor:"#00796b",color:"#fff"},onClick:p,children:"Imprimir Recibo"}),(0,a.jsxs)(i.A,{component:"form",sx:{p:"2px 4px",display:"flex",alignItems:"center",width:550,height:100},children:[(0,a.jsx)(_.A,{sx:{p:"10px"},"aria-label":"menu",children:(0,a.jsx)(j.A,{})}),(0,a.jsx)(c.Ay,{sx:{ml:1,flex:1},inputProps:{"aria-label":"search google maps"}}),(0,a.jsx)(_.A,{type:"button",sx:{p:"10px"},"aria-label":"search",children:(0,a.jsx)(g.A,{})}),(0,a.jsx)(s.A,{sx:{height:28,m:.5},orientation:"vertical"}),(0,a.jsx)(_.A,{color:"primary",sx:{p:"10px"},"aria-label":"directions",children:(0,a.jsx)(u.A,{})})]})]}),(0,a.jsx)(o.default,{sx:{width:"50%",bord:20},children:(0,a.jsxs)(d.A,{sx:{width:"100%",height:"100%"},children:[(0,a.jsx)(x.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",paddingBotton:0},children:(0,a.jsxs)(n.default,{className:C().className,sx:{fontSize:17,flexDirection:"column"},color:"text.secondary",gutterBottom:!0,children:["...........Miguel G\xf3mez & Cia.................",(0,a.jsx)("br",{}),"...................Tel:777777.................",(0,a.jsx)("br",{}),"........Miguelgomoz&cia@hotmail.com...........",(0,a.jsx)("br",{}),"........https://www.miguelgomez.com.co/.......",(0,a.jsx)("br",{}),"----------------------------------------------",(0,a.jsx)("br",{}),"........ Servicio -  ",null==t?void 0:t.PER_Nom,"......."]})}),(0,a.jsx)(x.A,{children:l.map((e,t)=>(0,a.jsxs)(n.default,{component:"div",sx:{display:"flex",justifyContent:"space-between",paddingTop:0},children:[(0,a.jsx)("span",{children:e.DESCRIPCION}),(0,a.jsx)("span",{children:e.PRECIO})]},t))}),(0,a.jsx)(x.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"space-between",paddingTop:0},children:(0,a.jsxs)("h3",{children:["-------------------------",(0,a.jsx)("br",{}),"Total ",I," ",e.total]})}),(0,a.jsx)(x.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",paddingTop:0},children:m.map((e,t)=>(0,a.jsx)(n.default,{component:"div",sx:{display:"flex",flexDirection:"column"},children:Object.entries(e).map((e,t)=>{let[l,o]=e;return 0!==o?(0,a.jsxs)("span",{children:[" ",l,": ",o.toString()]},t):null})},t))}),(0,a.jsx)(x.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"space-between",paddingTop:0},children:(0,a.jsxs)("h3",{children:["-------------------------",(0,a.jsx)("br",{}),"Cambio ",I," ",e.cambio]})})]})})]}),(0,a.jsx)(o.default,{sx:{width:"100%",padding:0,margin:0,paddingTop:12},children:(0,a.jsx)(r.default,{component:v(),href:"../../pedidos/pedidosCaja",variant:"outlined",sx:{width:"100%",height:200,padding:0,margin:0,backgroundColor:"#00796b",color:"white"},onClick:()=>{localStorage.removeItem("pago"),localStorage.removeItem("pedidoTempG"),localStorage.removeItem("clientTemp"),localStorage.removeItem("pedidoTemp")},children:"Nuevo Pedido"})})]})})})}},70689:(e,t,l)=>{"use strict";l.d(t,{A:()=>_,AuthProvider:()=>r});var a=l(95155),o=l(12115),i=l(76046),n=l(89208);let s=(0,o.createContext)({login:e=>{},logout:()=>{}}),r=e=>{let{children:t}=e,l=(0,i.useRouter)(),[r]=(0,o.useState)(!0),[_,c]=(0,o.useState)(null),[d,x]=(0,o.useState)({}),[u,m]=(0,o.useState)({}),[p,f]=(0,o.useState)({}),h=(0,o.useCallback)(function(e){n.A.set("authTokens",JSON.stringify(e)),localStorage.setItem("auth",JSON.stringify(e)),c(e)},[]),g=(0,o.useCallback)(function(){l.push("/"),n.A.remove("authTokens"),localStorage.removeItem("auth"),c(null)},[]);(0,o.useEffect)(()=>{let e=localStorage.getItem("auth")||n.A.get("authTokens"),t=localStorage.getItem("pedido"),l=localStorage.getItem("caja"),a=localStorage.getItem("cliente");a&&x(JSON.parse(a)),t&&m(JSON.parse(t)),l&&f(JSON.parse(l)),e&&c(JSON.parse(e))},[]);let j=(0,o.useMemo)(()=>({auth:_,cliente:d,setCliente:x,pedido:u,setPedido:m,caja:p,setCaja:f,loading:r,login:h,logout:g}),[_,d,u,p,h,g]);return(0,a.jsx)(s.Provider,{value:j,children:t})},_=()=>(0,o.useContext)(s)}},e=>{var t=t=>e(e.s=t);e.O(0,[4712,3930,9754,1083,6403,8173,1229,442,8441,1517,7358],()=>t(81502)),_N_E=e.O()}]);