(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1851],{83686:()=>{},32383:()=>{},44853:(e,t,r)=>{Promise.resolve().then(r.bind(r,32596))},65068:(e,t,r)=>{"use strict";r.d(t,{A:()=>_});var a=r(95155),l=r(48173),o=r.n(l),s=r(75436),n=r(4918),i=r(41983),c=r(36017),d=r(2091),u=r(60391);let h=e=>{let{page:t}=e;return(0,a.jsx)(s.default,{children:(0,a.jsx)(n.A,{children:t.map(e=>(0,a.jsx)(i.Ay,{disablePadding:!0,children:(0,a.jsxs)(c.A,{LinkComponent:o(),href:e.url,onClick:e.onClick,children:[(0,a.jsx)(d.A,{children:e.icon}),(0,a.jsx)(u.A,{primaryTypographyProps:{fontSize:15,fontWeight:"medium",letterSpacing:0},children:e.title})]})},e.title))})})};var x=r(78897),f=r.n(x),p=r(12115),m=r(79046),S=r.n(m),A=r(2138),j=r(70689),g=r(96212),C=r(85067),b=r(85244),N=r(74676),E=r(92080),w=r(6069),I=r(9581),v=r(43677),O=r(20457),y=r(11451),P=r(46805),k=r(894),T=r(2295),L=r(9561),F=r(81894),R=r(91888);let _=()=>{let{auth:e,logout:t}=(0,j.A)(),[r,l]=(0,p.useState)(null),[n,i]=(0,p.useState)(!1),c=()=>{i(!1),l(null)},d=[{title:"USUARIOS ",url:"/start/usuarios/",icon:(0,a.jsx)(N.A,{})},{title:"PEDIDOS",url:"/start/pedidos/",icon:(0,a.jsx)(E.A,{})},{title:"CLIENTES",url:"/start/clients/",icon:(0,a.jsx)(g.A,{})},{title:"PRODUCTOS",icon:(0,a.jsx)(w.A,{}),onClick:e=>{i(!0),l(e.currentTarget)}},{title:"FACTURAS",url:"/start/facturas/",icon:(0,a.jsx)(I.A,{})},{title:"CAJA",url:"/start/pedidos/pedidosCaja/",icon:(0,a.jsx)(v.A,{})}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.default,{}),(0,a.jsxs)(s.default,{sx:{flexGrow:1},children:[(0,a.jsx)(y.A,{position:"static",sx:{bgcolor:"#262626",width:"auto"},children:(0,a.jsxs)(P.A,{children:[(0,a.jsx)(k.A,{color:"inherit",onClick:e=>{l(e.currentTarget)},sx:{display:{xs:"flex",md:"none"}},children:(0,a.jsx)(b.A,{})}),(0,a.jsx)(s.default,{sx:{display:{xs:"none",md:"flex"}},children:d.map(e=>(0,a.jsx)(T.default,{sx:{fontSize:"15px"},color:"inherit",size:"large",LinkComponent:o(),href:e.url,onClick:e.onClick,children:e.title},e.title))}),(0,a.jsx)(L.default,{variant:"h6",sx:{flexGrow:1}}),(0,a.jsx)(T.default,{component:o(),href:"/start",color:"inherit",children:(0,a.jsx)(A.A,{})}),(0,a.jsxs)(T.default,{className:S().className,color:"inherit",sx:{fontSize:"15px"},children:[(0,a.jsx)(g.A,{}),e&&e.PER_Nom]}),(0,a.jsx)(T.default,{color:"inherit",onClick:()=>{f().fire({title:"\xbfQuieres terminar la Sesi\xf3n?",icon:"question",showCancelButton:!0,confirmButtonColor:"#09ff00",cancelButtonColor:"#fa0000",confirmButtonText:"Aceptar"}).then(e=>{e.isConfirmed&&t()})},children:(0,a.jsx)(C.A,{})})]})}),(0,a.jsxs)(F.A,{id:"basic-menu",anchorEl:r,open:n,onClose:c,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,a.jsx)(R.A,{onClick:c,component:o(),href:"/start/buscarProd/",children:"Buscar Por Referencias"}),(0,a.jsx)(R.A,{onClick:c,component:o(),href:"/start/productosMG/",children:"Lista de Todos Los Productos"})]}),(0,a.jsx)(F.A,{id:"basic-menu",anchorEl:r,MenuListProps:{"aria-labelledby":"basic-button"},open:!!r,onClose:()=>{l(null)},sx:{display:{xs:"flex",md:"none"}},children:(0,a.jsx)(h,{page:d})})]})]})}},76134:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(95155),l=r(7660),o=r(12115),s=r(2295);let n=e=>{let{datos:t}=e,[r,n]=(0,o.useState)(!1);return(0,a.jsx)(s.default,{variant:"outlined",color:"success",onClick:()=>{if(!Array.isArray(t)||0===t.length){console.error("Datos no est\xe1n en el formato correcto o est\xe1n vac\xedos.");return}n(!0);try{let e=l.Wp.book_new(),r=l.Wp.json_to_sheet(t);l.Wp.book_append_sheet(e,r,"Datos"),l._h(e,"datos.xlsx")}catch(e){console.error("Error al generar el archivo Excel",e)}finally{n(!1)}},disabled:r,children:r?"Loading...":"Excel"})}},32596:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var a=r(95155),l=r(8889),o=r(71014),s=r(76134),n=r(65068),i=r(12115),c=r(75436),d=r(54255),u=r(70152);let h=[{field:"ARTICULO",headerName:"COD",width:130},{field:"DESCRIPCION",headerName:"REFERENCIA",width:700},{field:"SUBLINEA",headerName:"SUBLINEA",width:200},{field:"TOTAL_DISP",headerName:"DISP",width:130,valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},type:"number"},{field:"PRECIO",headerName:"PRECIO",width:130,valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},type:"number"},{field:"PORC_IMPUESTO",headerName:"IVA",width:100,valueFormatter:e=>{let t=Number(e).toFixed(1);return"".concat(parseFloat(t).toLocaleString())},type:"number"},{field:"PORC_DCTO",headerName:"DESC",width:130,valueFormatter:e=>{let t=Number(e).toFixed(1);return"".concat(parseFloat(t).toLocaleString())},type:"number"},{field:"PRECIOMASIVA",headerName:"MASIVA",width:130,valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},type:"number"},{field:"UNIDAD_EMPAQUE",headerName:"EMP",width:130},{field:"EXIST_REAL",headerName:"EXIST-REAL",width:130,valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},type:"number"}],x=()=>{let[e,t]=(0,i.useState)([]),[r,x]=(0,i.useState)([]),[f,p]=(0,i.useState)(!0),[m,S]=(0,i.useState)([]),[A,j]=(0,i.useState)([]),g=async()=>{try{let e=await fetch(l.c.url+"/productos/listar_solo_para_mg",{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();t?(x(t),j(t)):x([]),p(!1)}catch(e){console.log("Error al obtener usuarios",e)}};(0,i.useEffect)(()=>{g()},[]);let C=e=>{x(A.filter(t=>Object.values(t).map(e=>e?e.toString().toLowerCase():"").some(t=>t.includes(e))))},b=(0,i.useCallback)(e=>{S(e),e.length>0&&setArticulo(A.filter(t=>{let r=t.ARTICULO;return!!r&&r.toString().includes(e[0])})[0])},[r]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c.default,{children:[" ",(0,a.jsx)(n.A,{})," "]}),(0,a.jsx)("div",{className:"container",children:!0===f?(0,a.jsx)(c.default,{sx:{width:"100%"},children:(0,a.jsx)(d.A,{})}):(0,a.jsxs)(c.default,{children:[(0,a.jsxs)(c.default,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[(0,a.jsxs)(c.default,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"20%"},children:[(0,a.jsx)("h2",{children:(0,a.jsx)("strong",{children:"PRODUCTOS MG"})}),(0,a.jsx)(s.A,{datos:r})]}),(0,a.jsx)(u.A,{id:"outlined-basic",variant:"outlined",label:"Buscador...",value:e,onChange:e=>{e.preventDefault(),t(e.target.value),C(e.target.value)},sx:{width:"50%"}})]}),(0,a.jsx)(c.default,{sx:{width:"100%",height:770},children:(0,a.jsx)(o.z,{rows:r,columns:h,getRowId:e=>e.ARTICULO,initialState:{pagination:{paginationModel:{page:0,pageSize:12}}},rowSelectionModel:m,onRowSelectionModelChange:b,pageSizeOptions:[5,12,20],sx:{"& .MuiDataGrid-columnHeaderTitle":{fontWeight:"bold"}}})})]})})]})}},8889:(e,t,r)=>{"use strict";r.d(t,{c:()=>a,m:()=>l});let a={url:"http://172.20.20.3:8001"},l={url:"http://192.168.1.3:3010/api"}},70689:(e,t,r)=>{"use strict";r.d(t,{A:()=>c,AuthProvider:()=>i});var a=r(95155),l=r(12115),o=r(76046),s=r(89208);let n=(0,l.createContext)({login:e=>{},logout:()=>{}}),i=e=>{let{children:t}=e,r=(0,o.useRouter)(),[i]=(0,l.useState)(!0),[c,d]=(0,l.useState)(null),[u,h]=(0,l.useState)({}),[x,f]=(0,l.useState)({}),[p,m]=(0,l.useState)({}),S=(0,l.useCallback)(function(e){s.A.set("authTokens",JSON.stringify(e)),localStorage.setItem("auth",JSON.stringify(e)),d(e)},[]),A=(0,l.useCallback)(function(){r.push("/"),s.A.remove("authTokens"),localStorage.removeItem("auth"),d(null)},[]);(0,l.useEffect)(()=>{let e=localStorage.getItem("auth")||s.A.get("authTokens"),t=localStorage.getItem("pedido"),r=localStorage.getItem("caja"),a=localStorage.getItem("cliente");a&&h(JSON.parse(a)),t&&f(JSON.parse(t)),r&&m(JSON.parse(r)),e&&d(JSON.parse(e))},[]);let j=(0,l.useMemo)(()=>({auth:c,cliente:u,setCliente:h,pedido:x,setPedido:f,caja:p,setCaja:m,loading:i,login:S,logout:A}),[c,u,x,p,S,A]);return(0,a.jsx)(n.Provider,{value:j,children:t})},c=()=>(0,l.useContext)(n)}},e=>{var t=t=>e(e.s=t);e.O(0,[339,8320,3524,9754,1083,1260,6403,152,8173,2670,7493,1014,2023,8441,1517,7358],()=>t(44853)),_N_E=e.O()}]);