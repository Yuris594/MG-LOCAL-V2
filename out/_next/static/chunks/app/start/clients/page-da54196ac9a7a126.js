(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9026],{83686:()=>{},32383:()=>{},48332:(e,t,l)=>{Promise.resolve().then(l.bind(l,90851))},65068:(e,t,l)=>{"use strict";l.d(t,{A:()=>P});var i=l(95155),r=l(48173),n=l.n(r),a=l(75436),o=l(4918),s=l(41983),d=l(36017),c=l(2091),u=l(60391);let h=e=>{let{page:t}=e;return(0,i.jsx)(a.default,{children:(0,i.jsx)(o.A,{children:t.map(e=>(0,i.jsx)(s.Ay,{disablePadding:!0,children:(0,i.jsxs)(d.A,{LinkComponent:n(),href:e.url,onClick:e.onClick,children:[(0,i.jsx)(c.A,{children:e.icon}),(0,i.jsx)(u.A,{primaryTypographyProps:{fontSize:15,fontWeight:"medium",letterSpacing:0},children:e.title})]})},e.title))})})};var x=l(78897),f=l.n(x),m=l(12115),p=l(79046),j=l.n(p),g=l(2138),A=l(70689),C=l(96212),E=l(85067),S=l(85244),N=l(74676),b=l(92080),w=l(6069),v=l(9581),O=l(43677),y=l(20457),I=l(11451),L=l(46805),T=l(894),k=l(2295),R=l(9561),D=l(81894),M=l(91888);let P=()=>{let{auth:e,logout:t}=(0,A.A)(),[l,r]=(0,m.useState)(null),[o,s]=(0,m.useState)(!1),d=()=>{s(!1),r(null)},c=[{title:"USUARIOS ",url:"/start/usuarios/",icon:(0,i.jsx)(N.A,{})},{title:"PEDIDOS",url:"/start/pedidos/",icon:(0,i.jsx)(b.A,{})},{title:"CLIENTES",url:"/start/clients/",icon:(0,i.jsx)(C.A,{})},{title:"PRODUCTOS",icon:(0,i.jsx)(w.A,{}),onClick:e=>{s(!0),r(e.currentTarget)}},{title:"FACTURAS",url:"/start/facturas/",icon:(0,i.jsx)(v.A,{})},{title:"CAJA",url:"/start/pedidos/pedidosCaja/",icon:(0,i.jsx)(O.A,{})}];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y.default,{}),(0,i.jsxs)(a.default,{sx:{flexGrow:1},children:[(0,i.jsx)(I.A,{position:"static",sx:{bgcolor:"#262626",width:"auto"},children:(0,i.jsxs)(L.A,{children:[(0,i.jsx)(T.A,{color:"inherit",onClick:e=>{r(e.currentTarget)},sx:{display:{xs:"flex",md:"none"}},children:(0,i.jsx)(S.A,{})}),(0,i.jsx)(a.default,{sx:{display:{xs:"none",md:"flex"}},children:c.map(e=>(0,i.jsx)(k.default,{sx:{fontSize:"15px"},color:"inherit",size:"large",LinkComponent:n(),href:e.url,onClick:e.onClick,children:e.title},e.title))}),(0,i.jsx)(R.default,{variant:"h6",sx:{flexGrow:1}}),(0,i.jsx)(k.default,{component:n(),href:"/start",color:"inherit",children:(0,i.jsx)(g.A,{})}),(0,i.jsxs)(k.default,{className:j().className,color:"inherit",sx:{fontSize:"15px"},children:[(0,i.jsx)(C.A,{}),e&&e.PER_Nom]}),(0,i.jsx)(k.default,{color:"inherit",onClick:()=>{f().fire({title:"\xbfQuieres terminar la Sesi\xf3n?",icon:"question",showCancelButton:!0,confirmButtonColor:"#09ff00",cancelButtonColor:"#fa0000",confirmButtonText:"Aceptar"}).then(e=>{e.isConfirmed&&t()})},children:(0,i.jsx)(E.A,{})})]})}),(0,i.jsxs)(D.A,{id:"basic-menu",anchorEl:l,open:o,onClose:d,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,i.jsx)(M.A,{onClick:d,component:n(),href:"/start/buscarProd/",children:"Buscar Por Referencias"}),(0,i.jsx)(M.A,{onClick:d,component:n(),href:"/start/productosMG/",children:"Lista de Todos Los Productos"})]}),(0,i.jsx)(D.A,{id:"basic-menu",anchorEl:l,MenuListProps:{"aria-labelledby":"basic-button"},open:!!l,onClose:()=>{r(null)},sx:{display:{xs:"flex",md:"none"}},children:(0,i.jsx)(h,{page:c})})]})]})}},76134:(e,t,l)=>{"use strict";l.d(t,{A:()=>o});var i=l(95155),r=l(7660),n=l(12115),a=l(2295);let o=e=>{let{datos:t}=e,[l,o]=(0,n.useState)(!1);return(0,i.jsx)(a.default,{variant:"outlined",color:"success",onClick:()=>{if(!Array.isArray(t)||0===t.length){console.error("Datos no est\xe1n en el formato correcto o est\xe1n vac\xedos.");return}o(!0);try{let e=r.Wp.book_new(),l=r.Wp.json_to_sheet(t);r.Wp.book_append_sheet(e,l,"Datos"),r._h(e,"datos.xlsx")}catch(e){console.error("Error al generar el archivo Excel",e)}finally{o(!1)}},disabled:l,children:l?"Loading...":"Excel"})}},90851:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>N});var i=l(95155),r=l(75436),n=l(8889),a=l(39241),o=l(2295),s=l(76046),d=l(70689),c=l(65068),u=l(76134),h=l(12115),x=l(71014),f=l(49359),m=l(86898),p=l(54255),j=l(70152),g=l(23613),A=l(80906),C=l(10897);let E={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxHeight:"90vh",maxWidth:"80vw",overflowY:"auto",overflowX:"hidden",padding:"16px",bgcolor:"#fff",border:"2px solid #000",boxShadow:24},S=[{field:"CLIENTE",headerName:"NIT",width:170},{field:"NOMBREALIAS",headerName:"NOMBRE",width:800},{field:"DIRECCION",headerName:"DIRECCI\xd3N",width:300},{field:"TELEFONO1",headerName:"TELEFONO",width:190},{field:"NOMVENDEDOR",headerName:"VENDEDOR",width:450},{field:"SALDO",headerName:"CARTERA",type:"number",width:120,valueFormatter:e=>{let t=Number(e).toFixed(0);return"".concat(parseFloat(t).toLocaleString())},align:"right"}],N=()=>{let e=(0,s.useRouter)(),{setCliente:t}=(0,d.A)(),[l,N]=(0,h.useState)(!1),[b,w]=(0,h.useState)([]),[v,O]=(0,h.useState)(!0),[y,I]=(0,h.useState)([]),[L,T]=(0,h.useState)(),[k,R]=(0,h.useState)(),D=(0,m.A)("(max-width: 600px)");(0,h.useEffect)(()=>{(async()=>{try{let e=await fetch(n.c.url+"/clientes/listar",{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();R(t),T(t),O(!1)}catch(e){console.log(e)}})()},[]);let M=e=>{R(L.filter(t=>{let l=t.CLIENTE&&t.CLIENTE.toString().toLowerCase(),i=t.NOMVENDEDOR&&t.NOMVENDEDOR.toString().toLowerCase(),r=t.NOMBREALIAS&&t.NOMBREALIAS.toLowerCase();return(null==l?void 0:l.includes(e.toLowerCase()))||(null==i?void 0:i.includes(e.toLowerCase()))||(null==r?void 0:r.includes(e.toLowerCase()))?t:null}))},P=(0,h.useCallback)(l=>{if(I(l),l.length>0){let i=L.filter(e=>{let t=e.CLIENTE;return!!t&&t.toString().includes(l[0])});localStorage.setItem("clientTemp",JSON.stringify(i)),t(i),e.push("/start/clients/clientesTemp/")}},[k]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.default,{children:[" ",(0,i.jsx)(c.A,{})," "]}),(0,i.jsx)(r.default,{className:"container",children:!0===v?(0,i.jsx)(r.default,{sx:{width:"100%"},children:(0,i.jsx)(p.A,{})}):(0,i.jsxs)(a.A,{container:!0,direction:"column",sx:{minHeight:"90vh",backfroundColor:"#ffffff",padding:2},children:[(0,i.jsxs)(r.default,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[(0,i.jsx)(a.A,{size:{xs:12,sm:8,md:6},children:(0,i.jsx)("h2",{children:(0,i.jsx)("strong",{children:"CLIENTES"})})}),(0,i.jsx)(o.default,{onClick:()=>N(!0),variant:"outlined",sx:{margin:"2px"},children:"Nuevo"}),(0,i.jsx)(u.A,{datos:k}),(0,i.jsx)(a.A,{size:{xs:12,sm:8,md:6},sx:{padding:2},children:(0,i.jsx)(j.A,{id:"outlined-basic",multiline:!0,rows:1,variant:"outlined",placeholder:"Buscar...",value:b,onChange:e=>{e.preventDefault(),w(e.target.value),M(e.target.value)},sx:{width:"100%"}})})]}),(0,i.jsx)(a.A,{size:12,sx:{flexGrow:1,marginBottom:2},children:(0,i.jsx)(r.default,{sx:{width:"100%",height:D?500:799},children:(0,i.jsx)(x.z,{rows:k,columns:S,initialState:{pagination:{paginationModel:{page:0,pageSize:12}}},pageSizeOptions:[12,20,30],onRowSelectionModelChange:P,rowSelectionModel:y,getRowId:e=>e.CLIENTE,slots:{toolbar:f.O},sx:{"& .MuiDataGrid-columnHeaderTitle":{fontWeight:"bold"}}})})})]})}),(0,i.jsx)(g.A,{open:l,onClose:()=>N(!1),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,i.jsx)(r.default,{sx:E,children:(0,i.jsxs)(r.default,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"80vh",width:"60vh",bgcolor:"#f5f5f5",padding:3,children:[(0,i.jsx)("h3",{children:"CREAR NUEVO CLIENTE"}),(0,i.jsxs)(r.default,{component:"form",noValidate:!0,sx:{display:"flex",flexDirection:"column",width:"100%",maxWidth:400},children:[(0,i.jsx)(j.A,{label:"NIT",name:"nombre",fullWidth:!0,margin:"normal",required:!0}),(0,i.jsx)(j.A,{label:"NOMBRE",name:"nombre",fullWidth:!0,margin:"normal",required:!0}),(0,i.jsx)(j.A,{label:"EMAIL",name:"email",type:"email",fullWidth:!0,margin:"normal",required:!0}),(0,i.jsx)(j.A,{label:"TELEF\xd3NO",name:"telefono",fullWidth:!0,margin:"normal",required:!0}),(0,i.jsx)(o.default,{variant:"contained",color:"primary",fullWidth:!0,sx:{marginTop:2},children:"Crear Cliente"})]}),(0,i.jsx)(A.A,{autoHideDuration:6e3,children:(0,i.jsx)(C.A,{severity:"error",children:"No fue posible crear al cliente."})}),(0,i.jsx)(A.A,{autoHideDuration:6e3,children:(0,i.jsx)(C.A,{severity:"success",children:"Cliente creado exitosamente."})})]})})})]})}},8889:(e,t,l)=>{"use strict";l.d(t,{c:()=>i,m:()=>r});let i={url:"http://172.20.20.3:8001"},r={url:"http://192.168.1.3:3010/api"}},70689:(e,t,l)=>{"use strict";l.d(t,{A:()=>d,AuthProvider:()=>s});var i=l(95155),r=l(12115),n=l(76046),a=l(89208);let o=(0,r.createContext)({login:e=>{},logout:()=>{}}),s=e=>{let{children:t}=e,l=(0,n.useRouter)(),[s]=(0,r.useState)(!0),[d,c]=(0,r.useState)(null),[u,h]=(0,r.useState)({}),[x,f]=(0,r.useState)({}),[m,p]=(0,r.useState)({}),j=(0,r.useCallback)(function(e){a.A.set("authTokens",JSON.stringify(e)),localStorage.setItem("auth",JSON.stringify(e)),c(e)},[]),g=(0,r.useCallback)(function(){l.push("/"),a.A.remove("authTokens"),localStorage.removeItem("auth"),c(null)},[]);(0,r.useEffect)(()=>{let e=localStorage.getItem("auth")||a.A.get("authTokens"),t=localStorage.getItem("pedido"),l=localStorage.getItem("caja"),i=localStorage.getItem("cliente");i&&h(JSON.parse(i)),t&&f(JSON.parse(t)),l&&p(JSON.parse(l)),e&&c(JSON.parse(e))},[]);let A=(0,r.useMemo)(()=>({auth:d,cliente:u,setCliente:h,pedido:x,setPedido:f,caja:m,setCaja:p,loading:s,login:j,logout:g}),[d,u,x,m,j,g]);return(0,i.jsx)(o.Provider,{value:A,children:t})},d=()=>(0,r.useContext)(o)}},e=>{var t=t=>e(e.s=t);e.O(0,[339,8320,3524,9754,1083,1260,6403,152,8173,2670,7493,1669,1014,3882,6006,8441,1517,7358],()=>t(48332)),_N_E=e.O()}]);